;=======================================================================
;描述符类型值说明。
;其中：
;	DA_: 	Descriptor Attribute
;	D:	数据段
;	C:	代码段
;	S:	系统段
;	R:	只读
;	RW:	读写
;	A:	已访问
;    其他:	可按照字面意思理解
;G D 0 AVL 0 0 0 0 P DPL
;=======================================================================
DA_32	equ	4000h

DA_DPL0	equ	00h
DA_DPL1	equ	20h
;=======================================================================
;存储段描述符类型值说明。
DA_DR	equ	90h
DA_DRW	equ	92h
DA_DRWA	equ	93h
DA_C	equ	98h
DA_CR	equ	9ah
DA_CCO	equ	9ch
DA_CCR	equ	9eh

;=======================================================================
;描述符宏。
;用法：		Descriptor Base, Limit, Attr
;		Base:	 dd
;		Limit:	 dd (低20位有效)
;		Attr:	 dw (高字节的低4位总是0)

%macro Descriptor 3				;接受3个实元。
	dw %2 & 0ffffh				;段界限1
	dw %1 & 0ffffh				;段基址1
	db (%1 >> 16) & 0ffh			;段基址2
	dw ((%2 >> 8) & 0f00h) | (%3 & 0f0ffh)	;属性1 + 段界限2 + 属性2
	db (%1 >> 24) & 0ffh			;段基址3
%endmacro					;宏一共8字节。

